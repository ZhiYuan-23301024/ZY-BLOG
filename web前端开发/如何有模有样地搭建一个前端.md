---
title: 如何有模有样地搭建一个前端
categories:
  - 前端开发
---
## 搭建环境

|阶段|核心任务/工具|关键作用|
|---|---|---|
|​**环境准备**​|Node.js|JavaScript 运行环境，提供 npm/yarn 包管理器|
|​**项目创建**​|Vite|下一代前端构建工具，提供极速的启动和热更新|
|​**开发核心**​|Vue 3|渐进式 JavaScript 框架，用于构建用户界面|
||Vue Router|官方路由管理器，实现单页面应用（SPA）的页面切换|
||Pinia|直观的 Vue 状态管理库，用于管理跨组件的共享状态|
|​**开发工具**​|VS Code|轻量级但功能强大的代码编辑器|
||Vue DevTools|浏览器调试扩展，用于检查组件树、状态等|
||ESLint + Prettier|代码规范检查和自动格式化工具，保证代码质量|

接下来，我们一步步进行配置。

### 👷 环境准备与项目创建

首先，确保你的系统已安装 ​**Node.js**​（建议使用最新的 LTS 版本）。你可以在终端中输入以下命令检查是否已安装成功 ：

```
node -v
npm -v
```

接下来，我们使用 ​**Vite**​ 来创建项目。Vite 由 Vue 作者尤雨溪开发，凭借其基于原生 ES 模块的快速冷启动和高效的热更新（HMR），已成为 Vue 3 官方推荐的项目构建工具 。

1. ​**创建项目**​：在终端中运行以下命令，按照提示操作即可。
    
    ```
    npm create vite@latest my-vue3-app
    ```
    
    - 在提示中选择 `Vue`作为框架。
        
    - 如果需要更强的类型支持，可以选择 `TypeScript`作为变体，这里为简化起见，我们先选择 `JavaScript`。
        
    
2. ​**安装依赖并启动**​：
    
    ```
    cd my-vue3-app
    npm install
    npm run dev
    ```
    
    命令执行后，在浏览器打开 `http://localhost:5173`，就能看到你的 Vue 3 应用正在运行了 。
    

### 📁 项目结构与核心配置

成功创建项目后，你会看到类似下面的目录结构 ：

```
my-vue3-project/
├── node_modules/       # 项目依赖包
├── src/               # 源代码目录
│   ├── assets/        # 静态资源（图片、样式等）
│   ├── components/    # 可复用 Vue 组件
│   ├── App.vue       # 应用根组件
│   └── main.js        # 应用入口文件，用于挂载Vue应用
├── index.html         # HTML 模板
├── vite.config.js    # Vite 配置文件
└── package.json      # 项目依赖和脚本配置
```

为了使项目具备路由和状态管理能力，我们需要安装并配置一些核心库。

1. ​**安装路由和状态管理库**​
    
    在项目根目录下执行以下命令，安装 Vue Router 和 Pinia：
    
    ```
    npm install vue-router pinia
    ```
    
2. ​**配置 Vue Router**​
    
    - 在 `src`目录下创建 `router`文件夹，并新建 `index.js`文件。
        
    - 在该文件中进行基本的路由配置 ：
        
        ```
        // src/router/index.js
        import { createRouter, createWebHistory } from 'vue-router'
        import HomeView from '../views/HomeView.vue' // 假设你有一个Home页面组件
        
        const routes = [
          { path: '/', name: 'Home', component: HomeView },
          // 可以继续添加更多路由...
        ]
        
        const router = createRouter({
          history: createWebHistory(),
          routes,
        })
        
        export default router
        ```
        
    
3. ​**配置 Pinia**​
    
    - 在 `src`目录下创建 `store`文件夹，并新建 `index.js`文件（或其他模块文件）。
        
    - 修改 `src/main.js`文件，引入并使用 Router 和 Pinia ：
        
        ```
        // src/main.js
        import { createApp } from 'vue'
        import App from './App.vue'
        import router from './router' // 引入路由配置
        import { createPinia } from 'pinia' // 引入Pinia
        
        const app = createApp(App)
        
        app.use(router) // 使用路由
        app.use(createPinia()) // 使用状态管理
        
        app.mount('#app')
        ```
        
    

### 🛠️ 必备开发工具与配置

工欲善其事，必先利其器。正确的工具能极大提升开发效率和体验。

1. ​**代码编辑器：VS Code**​
    
    推荐使用 ​**Visual Studio Code (VS Code)​**，并对其进行以下配置 ：
    
    - ​**必装插件**​：
        
        - ​**Volar**​：Vue 3 官方推荐的语言支持插件，提供语法高亮、类型检查等强大功能。
            
        - ​**ESLint**​：代码检查工具，帮助发现错误并统一代码风格。
            
        - ​**Prettier**​：代码格式化工具，与 ESLint 搭配可自动格式化代码。
            
        
    - 在项目根目录创建 `.eslintrc.cjs`和 `.prettierrc`配置文件，以确保团队协作时代码风格一致。
        
    
2. ​**调试利器：Vue DevTools**​
    
    务必在浏览器中安装 ​**Vue DevTools**​ 扩展（支持 Chrome 和 Firefox）。它允许你检查组件树、查看和修改组件状态、跟踪事件，是调试 Vue 应用的必备工具 。
    

### 💡 高效开发工作流建议

- ​**组件化开发**​：将界面拆分为一个个独立、可复用的组件，并放在 `src/components`目录下。这是 Vue 的核心思想之一 。
    
- ​**组合式 API（Composition API）​**​：Vue 3 推荐使用组合式 API（`<script setup>`语法）来组织组件逻辑，它比 Vue 2 的选项式 API 更具灵活性和可维护性 。
    
- ​**打包上线**​：当项目开发完成，运行 `npm run build`命令，Vite 会将你的代码打包优化，生成用于生产环境的 `dist`目录 。

## Composition API


## 响应式数据

`ref`和 `reactive`是 Vue 3 中创建**响应式数据**的两个核心函数。它们都使得数据变化时，Vue能自动更新相关的页面视图。下面的表格清晰地展示了它们的核心区别和在你代码中的具体应用：

| 特性             | `ref`                                           | `reactive`                                            |
| -------------- | ----------------------------------------------- | ----------------------------------------------------- |
| ​**适用数据类型**​   | 基本类型（如布尔值、数字、字符串）或对象类型                          | 仅限**对象类型**​（对象、数组等）                                   |
| ​**访问/修改方式**​  | 在 JavaScript 中需要通过 `.value`属性                   | ​**直接**访问和修改其属性                                       |
| ​**模板中使用**​    | 自动"解包"，无需 `.value`                              | 直接访问属性                                                |
| ​**在你代码中的实例**​ | `loading.ref(false)`, `showPassword.ref(false)` | `loginForm.reactive({...})`, `errors.reactive({...})` |
| ​**对应职责**​     | 控制单个的、独立的状态开关                                   | 管理一组逻辑相关的数据                                           |

### 💡 使用建议与常见陷阱

了解它们的基本区别后，掌握如何选择和正确使用它们同样重要。

- ​**如何选择？​**​
    
    - 当你需要定义单个的、独立的基本类型（如字符串、数字、布尔值）或将来可能被整个替换的引用类型时，优先使用 `ref`。例如，你的 `loading`和 `showPassword`状态。
        
    - 当你需要定义一组逻辑上紧密相关的数据（就像一个表单的多个字段），并且你会频繁操作其内部属性时，使用 `reactive`。例如，你的 `loginForm`和 `errors`对象。
        
    
- ​**注意常见陷阱**​
    
    1. ​**忘记 `.value`​：这是使用 `ref`时最常见的错误。在 JavaScript 中操作 `ref`时，务必记得通过 `.value`属性。
        
    2. ​**解构 `reactive`对象**​：如果直接解构一个用 `reactive`创建的对象，解构出来的变量会**失去响应性**。如果需要解构并保持响应性，可以使用 Vue 提供的 `toRefs`工具
    3. 函数。
        
    3. ​**重新赋值 `reactive`：不能直接将一个 `reactive`响应式对象重新赋值为一个新对象（例如 `state = {newKey: newValue}`），这会切断其响应式连接。正确的做法是修改其属性，或使用 `Object.assign(state, {newKey: newValue})`来合并对象。
        
    

### 🌰 代码中的具体体现

让我们回头看你的代码，就能很好理解了：

- `const loading = ref(false)`: 创建一个响应式的布尔值，用来表示加载状态。在 `handleLogin`函数中，通过 `loading.value = true`来改变它。
    
- `const showPassword = ref(false)`: 创建一个响应式的布尔值，控制密码是否明文显示。在 `togglePasswordVisibility`函数中，通过 `showPassword.value = !showPassword.value`来切换。
    
- `const loginForm = reactive({ password: '' })`: 创建一个响应式对象，用来管理表单数据。在模板和验证函数中，直接通过 `loginForm.password`访问和修改。
    
- `const errors = reactive({ password: '' })`: 创建一个响应式对象，用来管理校验错误信息。直接通过 `errors.password`来设置错误提示。
    

总而言之，`ref`和 `reactive`是 Vue 响应式系统的基石。简单来说，​**`ref`像是给一个数据（可以是任何类型）加上了一个响应式的"盒子"，操作需要透过 `.value`；而 `reactive`则是直接给一个对象本身"施加"响应式魔法，可以直接操作其属性**。

希望这个解释能帮助你更好地理解！如果你还有其他疑问，随时可以提出。

## ​异步编程与async/await